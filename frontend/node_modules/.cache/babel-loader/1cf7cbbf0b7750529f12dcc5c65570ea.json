{"remainingRequest":"D:\\Course\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\Course\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Course\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Course\\frontend\\src\\components\\organization\\school\\UpdateDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Course\\frontend\\src\\components\\organization\\school\\UpdateDialog.vue","mtime":1586671426918},{"path":"D:\\Course\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586551905064},{"path":"D:\\Course\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1586551904787},{"path":"D:\\Course\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586551905064},{"path":"D:\\Course\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1586551909204}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCQVNFVVJMIGZyb20gIkAvaHR0cGNvbmZpZy9hcGkuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwZGF0ZURpYWxvZyIsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIGRpYWxvZ1Zpc2libGU6IEJvb2xlYW4sCiAgICBzY2hvb2w6IE9iamVjdAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzRGlhbG9nVmlzaWJsZTogZnVuY3Rpb24gaXNEaWFsb2dWaXNpYmxlKCkgewogICAgICByZXR1cm4gdGhpcy5kaWFsb2dWaXNpYmxlOwogICAgfSwKICAgIHNjaG9vbE5hbWU6IGZ1bmN0aW9uIHNjaG9vbE5hbWUoKSB7CiAgICAgIGlmICh0aGlzLmlzTnVsbCh0aGlzLnNjaG9vbCkpIHJldHVybiAiIjsKICAgICAgcmV0dXJuIHRoaXMuc2Nob29sLm5hbWU7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIG5vdGU6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5yZXNldCh0aGlzLnNjaG9vbCk7CiAgfSwKICB3YXRjaDogewogICAgcHJvamVjdDogZnVuY3Rpb24gcHJvamVjdChuZXdQcm9qZWN0LCBvbGRWYWx1ZSkgewogICAgICB0aGlzLnJlc2V0KG5ld1Byb2plY3QpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGRhdGEpIHsKICAgICAgaWYgKHRoaXMuaXNOdWxsKGRhdGEpKSByZXR1cm47CiAgICAgIHRoaXMuZm9ybS5uYW1lID0gZGF0YS5uYW1lOwogICAgICB0aGlzLmZvcm0ubm90ZSA9IGRhdGEubm90ZTsKICAgIH0sCiAgICBvbk9wZW5EaWFsb2c6IGZ1bmN0aW9uIG9uT3BlbkRpYWxvZygpIHsKICAgICAgdGhpcy5yZXNldCh0aGlzLnNjaG9vbCk7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCJvbkRpbGFsb2dDYW5jZWwiKTsKICAgIH0sCiAgICBvbk9rOiBmdW5jdGlvbiBvbk9rKGZvcm1OYW1lKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBzZWxmLmRpYWxvZ0VkaXRVc2VyVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgc2VsZi51cGRhdGVEYXRhVG9TZXJ2ZXIoewogICAgICAgICAgICBpZDogc2VsZi5zY2hvb2wuaWQsCiAgICAgICAgICAgIG5hbWU6IHNlbGYuZm9ybS5uYW1lLAogICAgICAgICAgICBub3RlOiBzZWxmLmZvcm0ubm90ZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiBvbkNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgib25EaWxhbG9nQ2FuY2VsIik7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOe8lui+keWQjeensA0KICAgICAqLwogICAgdXBkYXRlRGF0YVRvU2VydmVyOiBmdW5jdGlvbiB1cGRhdGVEYXRhVG9TZXJ2ZXIoc2Nob29sKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy4kaHR0cC5wdXQoQkFTRVVSTC5zY2hvb2wgKyAidXBkYXRlIiwgc2Nob29sKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChzZWxmLmlzTnVsbChyZXNwb25zZS5kYXRhKSkgewogICAgICAgICAgc2VsZi4kYWxlcnQoIuaKseatie+8jOe8lui+keWQjeensOWksei0pSIsICLnvJbovpHlpLHotKUiLCB7CiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIgogICAgICAgICAgfSk7CiAgICAgICAgICBzZWxmLiRlbWl0KCJvbkRpbGFsb2dDYW5jZWwiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc2VsZi4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLmga3llpzvvIznvJbovpHlkI3np7DmiJDlip8iLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwogICAgICAgICAgc2VsZi4kZW1pdCgib25EaWxhbG9nT2siKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHNlbGYuJGVtaXQoIm9uRGlsYWxvZ0NhbmNlbCIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["UpdateDialog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog\r\n      title=\"修改学院\"\r\n      :visible.sync=\"isDialogVisible\"\r\n      :before-close=\"handleClose\"\r\n      width=\"600px\"\r\n      @open=\"onOpenDialog\"\r\n    >\r\n      <el-form label-position=\"right\" label-width=\"120px\" :model=\"form\" ref=\"form\">\r\n        <el-form-item label=\"学院名称\" prop=\"name\" required>\r\n          <el-input v-model=\"form.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"note\">\r\n          <el-input v-model=\"form.note\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"onOk('form')\">确 定</el-button>\r\n        <el-button @click=\"onCancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BASEURL from \"@/httpconfig/api.js\";\r\nexport default {\r\n  name: \"UpdateDialog\",\r\n  components: {},\r\n  props: { dialogVisible: Boolean, school: Object },\r\n  computed: {\r\n    isDialogVisible: function() {\r\n      return this.dialogVisible;\r\n    },\r\n    schoolName: function() {\r\n      if (this.isNull(this.school)) return \"\";\r\n      return this.school.name;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        name: \"\",\r\n        note: \"\"\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.reset(this.school);\r\n  },\r\n  watch: {\r\n    project(newProject, oldValue) {\r\n      this.reset(newProject);\r\n    }\r\n  },\r\n  methods: {\r\n    reset(data) {\r\n      if (this.isNull(data)) return;\r\n      this.form.name = data.name;\r\n      this.form.note = data.note;\r\n    },\r\n    onOpenDialog() {\r\n      this.reset(this.school);\r\n    },\r\n    handleClose() {\r\n      this.$emit(\"onDilalogCancel\");\r\n    },\r\n    onOk(formName) {\r\n      var self = this;\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          self.dialogEditUserVisible = false;\r\n          self.updateDataToServer({\r\n            id: self.school.id,\r\n            name: self.form.name,\r\n            note: self.form.note\r\n          });\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    onCancel() {\r\n      this.$emit(\"onDilalogCancel\");\r\n    },\r\n\r\n    /**\r\n     * 编辑名称\r\n     */\r\n    updateDataToServer(school) {\r\n      var self = this;\r\n      this.$http\r\n        .put(BASEURL.school + \"update\", school)\r\n        .then(response => {\r\n          if (self.isNull(response.data)) {\r\n            self.$alert(\"抱歉，编辑名称失败\", \"编辑失败\", {\r\n              confirmButtonText: \"确定\"\r\n            });\r\n            self.$emit(\"onDilalogCancel\");\r\n          } else {\r\n            self.$message({\r\n              message: \"恭喜，编辑名称成功\",\r\n              type: \"success\"\r\n            });\r\n            self.$emit(\"onDilalogOk\");\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          self.$emit(\"onDilalogCancel\");\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components/organization/school"}]}